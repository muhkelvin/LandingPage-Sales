<!DOCTYPE html>
<html lang="id">
<head>
    <!-- Meta Pixel Code (Posisi Paling Atas) -->
    <script async>
    !function(f,b,e,v,n,t,s){
        try {
            if(f.fbq)return;
            n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};
            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
            n.queue=[];t=b.createElement(e);t.defer=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t,s)
        } catch(err) {
            console.error('Facebook Pixel Error:', err);
        }
    }(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

    // Init Pixel dengan Verifikasi Double-Check
    window._fbq = window._fbq || [];
    window._fbq.push(['init', '648310687536688']);
    window._fbq.push(['track', 'PageView', {'page_title': document.title}]);
    </script>
    <noscript>
        <img height="1" width="1" style="display:none" 
             src="https://www.facebook.com/tr?id=648310687536688&ev=PageView&noscript=1"
             alt="Pixel Fallback">
    </noscript>
    <!-- End Meta Pixel Code -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ebook Penghasilan Online Terbukti 2024</title>
    
    <!-- Optimasi CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-purple-50/80">
    <!-- Hero Section -->
    <header class="min-h-screen flex items-center justify-center px-4 py-20 bg-gradient-to-br from-blue-600 to-purple-700 animate-fade-in-up">
        <div class="container mx-auto text-center text-white max-w-4xl">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-8 leading-tight">
                Raih Penghasilan <span class="bg-yellow-400 text-black px-4 transform -skew-x-6 inline-block">Rp5-10 Juta/Bulan</span><br>Tanpa Skill Khusus!
            </h1>
            
            <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 mb-12">
                <p class="text-lg md:text-xl lg:text-2xl mb-6 font-medium">
                    ðŸ”¥ 97% Pembeli Berhasil Hasilkan Uang dalam 30 Hari Pertama!
                </p>
                <div class="flex justify-center items-center gap-4">
                    <div class="flex items-center">
                        <svg class="w-6 h-6 text-green-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
                        </svg>
                        <span class="text-sm md:text-base">Garansi Uang Kembali</span>
                    </div>
                    <div class="h-6 w-px bg-white/30"></div>
                    <div class="flex items-center">
                        <svg class="w-6 h-6 text-blue-300 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-sm md:text-base">Update Berkala</span>
                    </div>
                </div>
            </div>

            <a href="#cta" class="cta-button inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-5 px-12 rounded-2xl text-xl md:text-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg">
                ðŸ“˜ Dapatkan Ebook Sekarang - Rp99.000
            </a>
        </div>
    </header>

    <!-- Bagian Konten Utama... -->

    <!-- Tracking Script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Debugging Pixel
        console.log('[Debug] Facebook Pixel Loaded:', typeof fbq !== 'undefined');
        
        // Event Tracking Terpusat
        const trackEvent = (eventName, params) => {
            try {
                fbq('track', eventName, params, {
                    eventID: `${eventName}_${Date.now()}`,
                    eventSourceUrl: window.location.href
                });
            } catch(err) {
                console.error('Tracking Error:', err);
            }
        }

        // PageView dengan Data Tambahan
        trackEvent('PageView', {
            page_title: document.title,
            user_agent: navigator.userAgent
        });

        // ViewContent setelah 1 detik
        setTimeout(() => {
            trackEvent('ViewContent', {
                content_name: 'Ebook Penghasilan Online',
                content_category: 'Digital Product',
                value: 99000,
                currency: 'IDR'
            });
        }, 1000);

        // Handle CTA Click
        document.querySelectorAll('.cta-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                
                trackEvent('AddToCart', {
                    content_ids: ['EBO-001'],
                    content_type: 'product',
                    value: 99000,
                    currency: 'IDR'
                });

                // Redirect setelah tracking
                setTimeout(() => {
                    window.location.href = 'https://tribeversity.com/course/payment/597hl883?source=chief';
                }, 350);
            });
        });
    });
    </script>

    <!-- Netlify CSP Settings (Buat file _headers di public folder) -->
    <!--
    /*
      Content-Security-Policy:
        default-src 'self';
        script-src 'self' https://connect.facebook.net https://cdn.tailwindcss.com 'unsafe-inline';
        img-src 'self' https://www.facebook.com data:;
        connect-src 'self' https://*.facebook.com https://*.facebook.net;
        frame-src https://www.facebook.com;
    -->
</body>
</html>
